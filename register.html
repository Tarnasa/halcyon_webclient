<!DOCTYPE html>
<html lang="en">
<head>
<title>AI Comp Games</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="/style.css" rel=stylesheet>
<script src="/shared.js" type="text/javascript"></script>
<script>

window.onload = function() {
    clearError();
}

function register() {
    clearError();
    let username = document.getElementById('username').value;
    let email = document.getElementById('email').value;
    let name = document.getElementById('name').value;
    let password = document.getElementById('password').value;
    let confirmPassword = document.getElementById('confirm-password').value;
    if (password != confirmPassword) {
        displayError('Passwords do not match');
        return;
    }
    request('POST', 'users/', {
        name: username,
        email: email,
        contactName: name,
        password: password,
    }, function() {
        window.location.href = '/login.html';
    });
}

</script>
</head>
<body>
    <div class='navbar'>
        <div class='navbar-section'>
            <a href="/index.html">AI Comp games</a>
        </div>
        <div class='navbar-section'>
            <a href="/teams.html">Teams</a>
            <a href="/submit.html">Submit code</a>
            <a href="/battle.html">Battle</a>
        </div>
        <div class='navbar-section'>
            <a href="/login.html">Log in</a>
            <a href="/register.html">Register</a>
        </div>
    </div>
    <div class='content-wrapper'>
        <div id='error' class='error'>Javascript must be enabled for this page to work</div>
        <div class='big'>Register</div>
        <div class='box' style='text-align: left'>
            <div><b>Username</b> [a-zA-Z_]</div>
            <div style='padding-top: 0.5em'><input type='text' id='username' placeholder='Username' /></div>
            <div style='padding-top: 1em'><b>Email address</b> (Used to contact/verify winners)</div>
            <div style='padding-top: 0.5em'><input type='text' id='email' placeholder='Email address' /></div>
            <div style='padding-top: 1em'><b>Name</b> (optional)</div>
            <div style='padding-top: 0.5em'><input type='text' id='name' placeholder='First Last' /></div>
            <div style='padding-top: 1em'><b>Password</b></div>
            <div>Must be at least 8 characters long and contain:
                <ul>
                    <li>an uppercase letter</li>
                    <li>a lowercase letter</li>
                    <li>a number</li>
                </ul>
            </div>
            <div><input type='password' id='password' placeholder='Password' /></div>
            <div style='padding-top: 1em'><b>Confirm password</b></div>
            <div style='padding-top: 0.5em'><input type='password' id='confirm-password' placeholder='Confirm password' /></div>
            <button onclick='register()' style='margin-top: 1.5em'>Register</button>
        </div>
    </div>
</body>
